<div class="full-page">
  <div class="card shadow">
    <div class="row g-0">
      <div class="col-md-6">
        <div class="left-side">
          @if (formIndex == 1) {
            <form
              class="py-5 px-3"
              [formGroup]="form"
              (ngSubmit)="sigIn()">
              <h4 class="text-center">Iniciar sesión</h4>
              <div class="row mt-2">
                <div class="col-md-12">
                  <div class="input-field">
                    <input
                      type="text"
                      class="form-control"
                      id="username"
                      formControlName="username"
                      [class.is-invalid]="form.get('username').touched && form.get('username').errors"
                      autocomplete="off"
                      required />
                    <label for="username">Usuario</label>
                  </div>
                </div>
              </div>
              <div class="row mt-2 mb-3">
                <div class="col-md-12">
                  <div class="input-field">
                    <input
                      type="password"
                      class="form-control"
                      id="password"
                      formControlName="password"
                      [class.is-invalid]="form.get('password').touched && form.get('password').errors"
                      required />
                    <label for="password">Contraseña</label>
                  </div>
                </div>
              </div>
              @if (message) {
                <p class="text-danger">{{ message }}</p>
              }
              <div class="row mt-2">
                <div class="col-md-12">
                  <button
                    type="submit"
                    class="btn btn-primary w-100 rounded-pill signup-button"
                    [disabled]="isLoading">
                    @if (isLoading) {
                      <i class="bx bx-spin bx-loader-alt"></i>
                    }
                    Ingresar
                  </button>
                </div>
              </div>
              <div class="member mt-2">
                <span>¿Olvidaste tu contraseña?</span>
                <a
                  class="btn btn-sm btn-link ms-2 p-0"
                  (click)="changeForm(2)">
                  Recupéralo
                </a>
              </div>
            </form>
          }

          @if (formIndex == 2) {
            <form
              class="form-recovery"
              [formGroup]="form"
              (ngSubmit)="recoveryPassword()">
              <h4 class="text-center">Recuperar contraseña</h4>
              <div class="row mt-3">
                <div class="col-md-12">
                  <div class="input-field">
                    <input
                      type="text"
                      class="form-control"
                      id="username"
                      formControlName="username"
                      [class.is-invalid]="form.get('username').touched && form.get('username').errors"
                      autocomplete="off"
                      required />
                    <label for="username">Usuario</label>
                  </div>
                </div>
              </div>
              @if (message) {
                <p class="text-muted mt-2">{{ message }}</p>
              }
              <div class="row mt-2">
                <div class="col-md-12">
                  <button
                    type="submit"
                    class="btn btn-primary w-100 rounded-pill signup-button"
                    [disabled]="isLoading">
                    @if (isLoading) {
                      <i class="bx bx-spin bx-loader-alt"></i>
                    }
                    Enviar
                  </button>
                </div>
              </div>
              <div class="text-center mt-3">
                <a
                  class="btn btn-sm btn-link p-0"
                  (click)="changeForm(1)">
                  <i class="bx bx-left-arrow-alt ms-1"></i>
                  Volver al inicio de sesión
                </a>
              </div>
            </form>
          }
        </div>
      </div>
      <div class="col-md-6">
        <div class="right-side">
          <div class="content">
            <h5>Explora tus actividades</h5>
            <div class="description">Bienvenido al sistema de gestión de tu negocio</div>
          </div>
          <div class="parallelograms">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
